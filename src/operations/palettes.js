// Gaming console and computer palette presets
// Each palette contains RGB color values for the available colors

// Commodore 64 palette (16 colors)
export const COMMODORE_64_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [136, 58, 58],       // Red
  [112, 228, 228],     // Cyan
  [158, 58, 158],      // Purple
  [112, 158, 112],     // Green
  [58, 58, 196],       // Blue
  [228, 228, 112],     // Yellow
  [196, 112, 58],      // Orange
  [112, 70, 58],       // Brown
  [228, 112, 112],     // Light Red
  [58, 58, 58],        // Dark Gray
  [112, 112, 112],     // Medium Gray
  [196, 196, 196],     // Light Gray
  [112, 228, 112],     // Light Green
  [58, 158, 228],      // Light Blue
  [196, 112, 196]      // Light Purple
];

// Game Boy (original green) palette (4 colors)
export const GAME_BOY_ORIGINAL_PALETTE = [
  [15, 56, 15],        // Darkest green
  [48, 98, 48],        // Medium dark green
  [139, 172, 15],      // Medium light green
  [155, 188, 15]       // Lightest green
];

// Game Boy Color palette (extended 8 colors)
export const GAME_BOY_COLOR_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [15, 56, 15],        // Dark green
  [48, 98, 48],        // Medium dark green
  [139, 172, 15],      // Medium light green
  [155, 188, 15],      // Lightest green
  [196, 58, 58],       // Red
  [58, 112, 196]       // Blue
];

// NES palette (54 colors - simplified to most common)
export const NES_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [124, 124, 124],     // Light Gray
  [58, 58, 58],        // Dark Gray
  [196, 58, 58],       // Red
  [255, 112, 112],     // Light Red
  [112, 58, 58],       // Dark Red
  [58, 196, 58],       // Green
  [112, 228, 112],     // Light Green
  [58, 112, 58],       // Dark Green
  [58, 58, 196],       // Blue
  [112, 112, 255],     // Light Blue
  [58, 58, 112],       // Dark Blue
  [196, 196, 58],      // Yellow
  [255, 255, 112],     // Light Yellow
  [112, 112, 58],      // Dark Yellow
  [196, 58, 196],      // Purple
  [255, 112, 255],     // Light Purple
  [112, 58, 112]       // Dark Purple
];

// Amiga OCS palette (32 colors)
export const AMIGA_OCS_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [136, 58, 58],       // Red
  [112, 228, 228],     // Cyan
  [158, 58, 158],      // Purple
  [112, 158, 112],     // Green
  [58, 58, 196],       // Blue
  [228, 228, 112],     // Yellow
  [196, 112, 58],      // Orange
  [112, 70, 58],       // Brown
  [228, 112, 112],     // Light Red
  [58, 58, 58],        // Dark Gray
  [112, 112, 112],     // Medium Gray
  [196, 196, 196],     // Light Gray
  [112, 228, 112],     // Light Green
  [58, 158, 228],      // Light Blue
  [196, 112, 196],     // Light Purple
  [255, 196, 112],     // Light Orange
  [255, 228, 112],     // Light Yellow
  [112, 228, 196],     // Light Cyan
  [196, 196, 112],     // Light Yellow 2
  [196, 112, 112],     // Light Red 2
  [112, 112, 196],     // Light Blue 2
  [196, 112, 196],     // Light Purple 2
  [112, 196, 112],     // Light Green 2
  [196, 196, 196],     // Light Gray 2
  [228, 228, 228],     // Very Light Gray
  [255, 255, 255]      // White 2
];

// Atari 2600 palette (NTSC 128 colors - simplified to most common)
export const ATARI_2600_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [112, 58, 58],       // Red
  [58, 112, 58],       // Green
  [58, 58, 112],       // Blue
  [196, 196, 58],      // Yellow
  [196, 58, 196],      // Purple
  [58, 196, 196],      // Cyan
  [196, 112, 58],      // Orange
  [112, 196, 58],      // Light Green
  [58, 112, 196],      // Light Blue
  [196, 58, 112]       // Pink
];

// ZX Spectrum palette (15 colors)
export const ZX_SPECTRUM_PALETTE = [
  [0, 0, 0],           // Black
  [0, 0, 196],         // Blue
  [196, 0, 0],         // Red
  [196, 0, 196],       // Purple
  [0, 196, 0],         // Green
  [0, 196, 196],       // Cyan
  [196, 196, 0],       // Yellow
  [196, 196, 196],     // White
  [0, 0, 0],           // Bright Black
  [0, 0, 255],         // Bright Blue
  [255, 0, 0],         // Bright Red
  [255, 0, 255],       // Bright Purple
  [0, 255, 0],         // Bright Green
  [0, 255, 255],       // Bright Cyan
  [255, 255, 0],       // Bright Yellow
  [255, 255, 255]      // Bright White
];

// Master System / Sega Mark III palette (64 colors - simplified)
export const MASTER_SYSTEM_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [112, 58, 58],       // Red
  [58, 112, 58],       // Green
  [58, 58, 112],       // Blue
  [196, 196, 58],      // Yellow
  [196, 58, 196],      // Purple
  [58, 196, 196],      // Cyan
  [196, 112, 58],      // Orange
  [112, 196, 58],      // Light Green
  [58, 112, 196],      // Light Blue
  [196, 58, 112],      // Pink
  [196, 196, 196],     // Light Gray
  [112, 112, 112],     // Medium Gray
  [58, 58, 58]         // Dark Gray
];

// PC Engine / TurboGrafx-16 palette (482 colors - simplified)
export const PC_ENGINE_PALETTE = [
  [0, 0, 0],           // Black
  [255, 255, 255],     // White
  [196, 58, 58],       // Red
  [58, 196, 58],       // Green
  [58, 58, 196],       // Blue
  [196, 196, 58],      // Yellow
  [196, 58, 196],      // Purple
  [58, 196, 196],      // Cyan
  [196, 112, 58],      // Orange
  [112, 196, 58],      // Light Green
  [58, 112, 196],      // Light Blue
  [196, 58, 112],      // Pink
  [158, 158, 158],     // Gray
  [112, 112, 112],     // Dark Gray
  [228, 228, 228]      // Light Gray
];

// All available palettes
export const PRESET_PALETTES = {
  'commodore64': { name: 'Commodore 64', colors: COMMODORE_64_PALETTE },
  'gameBoyOriginal': { name: 'Game Boy (Original)', colors: GAME_BOY_ORIGINAL_PALETTE },
  'gameBoyColor': { name: 'Game Boy Color', colors: GAME_BOY_COLOR_PALETTE },
  'nes': { name: 'NES', colors: NES_PALETTE },
  'amiga': { name: 'Amiga OCS', colors: AMIGA_OCS_PALETTE },
  'atari2600': { name: 'Atari 2600', colors: ATARI_2600_PALETTE },
  'zxSpectrum': { name: 'ZX Spectrum', colors: ZX_SPECTRUM_PALETTE },
  'masterSystem': { name: 'Master System', colors: MASTER_SYSTEM_PALETTE },
  'pcEngine': { name: 'PC Engine', colors: PC_ENGINE_PALETTE }
};

// Function to find nearest color in palette
export function findNearestColor(r, g, b, palette) {
  let nearestColor = palette[0];
  let minDistance = Infinity;
  
  for (const color of palette) {
    const [pr, pg, pb] = color;
    const distance = Math.sqrt(
      Math.pow(r - pr, 2) + 
      Math.pow(g - pg, 2) + 
      Math.pow(b - pb, 2)
    );
    
    if (distance < minDistance) {
      minDistance = distance;
      nearestColor = color;
    }
  }
  
  return nearestColor;
}

// Function to convert hex to RGB
export function hexToRgb(hex) {
  // Remove # if present
  hex = hex.replace('#', '');
  
  // Parse r, g, b values
  const r = parseInt(hex.substring(0, 2), 16);
  const g = parseInt(hex.substring(2, 4), 16);
  const b = parseInt(hex.substring(4, 6), 16);
  
  return [r, g, b];
}

// Function to convert RGB to hex
export function rgbToHex(r, g, b) {
  return '#' + 
    [r, g, b].map(x => {
      const hex = x.toString(16);
      return hex.length === 1 ? '0' + hex : hex;
    }).join('');
}